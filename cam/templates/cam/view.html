{% extends "cam.html" %}

{% block header %}
{{ block.super }}
<style type="text/css">
.cam_form_category {
	float: right;
}
</style>
{% endblock %}

{% block content %}

<script language="javascript">
function reDir(id) {
    if (id == "")
        return false;
    var loc = "/cam/";
    loc = loc.concat(id.toString(), "/");
    window.location=loc;
}
function reCat(id) {
    if (id == "")
        return false;
    var loc = "/cam/?cat=";
    loc = loc.concat(id.toString());
    window.location=loc;
}
</script>

<body>
    <form id="form0" action="." method="post">
        <div class="cam_form_category">
        Categories:
        <select onchange=reCat(this.options[this.selectedIndex].value);>
            {% for cat in catlist %}
                <option value="{{ cat.id }}"{% ifequal cat category %} selected="selected"{% endifequal %}>
                    {{ cat.title }}</option>
            {% endfor %}
        </select>
        </div>
        <select onchange=reDir(this.options[this.selectedIndex].value);>
            {% for cam in camlist %}
                <option value="{{ cam.id }}"{% ifequal cam.id image.id %} selected="selected"{% endifequal %}>
                    {{ cam.title }}</option>
            {% endfor %}
        </select>
    </form>
    <img alt="{{ image.title }}" src="{{ image.url }}"
    <form id="form2" action="." method="post">
        <select onchange=reDir(this.options[this.selectedIndex].value);>
            {% for cam in camlist %}
                <option value="{{ cam.id }}"{% ifequal cam.id image.id %} selected="selected"{% endifequal %}>
                    {{ cam.title }}</option>
            {% endfor %}
        </select>
    </form>
</body>
{% endblock content %}